This file describes all the global variables and state/data structures used by the editor internally. Really probably also everything where file-specific comments don't suffice.

# General Stuff
* Matrices take top left as origin.

# Globals

## `gLEprops`

Contains data from the geometry editor (called level editor in the code).
Type is property list, keys:
- `#levelEditors`: Contains the two levelEdit_parentscript instances for LE
- `#toolMatrix`: Contains the layout of the tool grid on the left of the level editor
- `#camPos`: Current camera position of the level editor
- `#Matrix`: Contains matrix of tile data, cells are accessed `[x][y][layer]` each cell looks like `[type, [<list of features>]]`
  * GEOMETRY TYPES:
     * `0`: air
     * `1`: solid wall
     * (slope type directions are the direction that's FILLED.)
     * `2`: slope (bottom left)
     * `3`: slope (bottom right)
     * `4`: slope (top left)
     * `5`: slope (top right)
     * `6`: floor
     * `7`: "shortcut" - I found this in a random cast member in the director project, it's probably unused.
     * `8`: "nn" - I found this in a random cast member in the director project, it's probably unused.
     * `9`: glass (invisible wall)
  * FEATURES:
    * `1`: horizontal beam
    * `2`: vertical beam
    * `3`: hive
    * `4`: shortcut entrance
    * `5`: shortcut
    * `6`: entrance
    * `7`: dragon den
    * `9`: rock
    * `10`: spear
    * `11`: crack
    * `12`: forbid fly chains
    * `13`: garbage worm hole
    * `18`: waterfall
    * `19`: whack-a-mole-hole
    * `20`: worm grass
    * `21`: scavenger hole

## `gTEprops`

Contains data from the tile editor.
Type is property list, keys:
- `#lastKeys` and `#Keys`: Double-buffered keys list used to implement first-frame-pressed key behavior.
- `#workLayer`: Current layer being edited.
- `#lstMsPs`: Last mouse pos, used for input.
- `#tlMatrix`: Contains matrix of tile data. Cells are accessed `[x][y][layer]` each cell looks like `[#tp: tp, #data: data]`. Keys:
  - `#type`: Type of this tile.
    - `"default"`: the default material.
    - `"material"`: specific material.
    - `"tileHead"`: "head" or origin piece of a multi-tile tile.
    - `"tileBody"`: Other segments to a multi-tile tile.
  - `#data`: List data field for this tile. For non-material tiles contains at least two elements but may contain more
    - For `tileHead` tiles: `[1]` is the position of the `tileHead` and `[2]` is the layer for it. Relevant for multi-layer tiles.
    - For `tileBody` tiles: `[1]` is the 2D index into `gTiles` for this tile type, `[2]` is the name of the tile.
    - more TODO

## `gTiles`

Contains of definition data for tiles. The list is grouped.
Keys per category:
- `#nm`: Name of the category
- `#clr`: (Optional) color of the category's tiles in the editor, I think.
- `#tls`: List of tile types for this category. Each tile type is a property list:
  - `#nm`: Name of the tile.
  - `#sz`: (`point`) Size of the tile, for multi-tile tiles.
  - `#specs`: (NOT materials) Which geometry tiles this tile needs. Row-major flattened matrix of size `#sz`. 
  - `#specs2`: (NOT materials) Like `#specs`, but for the next layer back.
  - `#color`: Color used to draw in tile editor, I think.
  - `#renderType`: (ONLY materials) Determines how this material type is rendered. Valid values appear to be 
    - `"unified"`
    - `"tiles"`
    - `"pipeType"`
    - `"largeTrashType"`
    - `"dirtType"`
    - `"densePipeType"`
    - `"ceramicType"`
  - `#category`: (NOT MATERIALS) Auto generated, seems to be the index of prop categories for when this tile is used as a prop. Doesn't actually seem like this ever accessed though.
  - `#rnd`: (NOT MATERIALS) Tiles randomely choose surrounding tiles if possible instead.
  - `#tp`: (NOT MATERIALS) Contains type of render mode for this tile or something. Valid values:
    - `"box"`
    - `"voxelStruct"`: This type is elegible for "tile as prop"
    - `"voxelStructRandomDisplaceHorizontal"`
    - `"voxelStructRandomDisplaceVertical"`
    - `"voxelStructRockType"`
  - `#repeatL`: (NOT MATERIALS) Layer repeat data when rendering
  - `#bfTiles`: (NOT MATERIALS) ["buffer tiles"](https://cdn.discordapp.com/attachments/305139167300550666/829071809705672734/bfTilesGuide.png)
  - `#ptPos`: (NOT MATERIALS) Autogenerated, index into the preview atlas (`previewTiles` member)
  - `#tags`: List of other tags that add extra rendering effects. Valid values:
    - `"drawLast"`: Causes tile to be rendered in a separate, later pass.
    - `"ramp"`: Some rendering thing related to `voxelStruct`, `rnd` and slopes.
    - `"Chain Holder"`
    - `"fanBlade"`
    - `"Big Wheel"`
    - `"randomCords"`
    - `"Big Sign"`
    - `"Big Western Sign"`
    - `"Big Western Sign Tilted"`
    - `"Small Asian Sign"`
    - `"small asian sign on wall"`
    - `"glass"`
    - `"harvester"`
    - `"Temple Floor"`
    - `"Larger Sign"`
    - `"nonSolid"`

## `gEffects`

Contains definitions for available effects. Extremely simple, only contains effect *names*.

Structure is a list containing `[#nm: categoryName, #efs: [effects]]`. Each entry in `efs` is `[#nm: name]`. Simple as that.

## `gEEprops`

Proplist for the effects editor, contains following data:

- `#lastKeys` and `#Keys`: Double-buffered keys list used to implement first-frame-pressed key behavior.
- `#lstMsPs`: last mouse pos
- `#effects:` list of effects in the current level.
- `#emPos`: 
- `#editEffect`:
- `#selectEditEffect`:
- `#mode`:
- `#brushSize`: